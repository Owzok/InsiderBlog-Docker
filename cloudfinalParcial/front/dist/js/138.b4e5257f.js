"use strict";(self["webpackChunkinsider_blog_frontend"]=self["webpackChunkinsider_blog_frontend"]||[]).push([[138],{9138:function(e,r,t){t.r(r),t.d(r,{default:function(){return D}});var o=t(3396),s=t(9242),l=t(7139);const n={class:"site-header"},a=(0,o._)("h3",null,"Crear Post",-1),i={class:"content-section"},u={class:"form-group"},c=(0,o._)("label",null,"Title",-1),d={class:"form-group"},p=(0,o._)("label",null,"Content",-1),g={class:"form-group"},_=(0,o._)("label",null,"Group",-1),m=(0,o._)("div",{class:"form-group"},[(0,o._)("button",{class:"btn btn-primary btn-block"},"Create")],-1),h={key:0,class:"alert alert-danger",role:"alert"};function f(e,r,t,f,b,w){return(0,o.wg)(),(0,o.iD)("header",n,[(0,o._)("form",{onSubmit:r[3]||(r[3]=(0,s.iM)(((...e)=>w.handleSubmit&&w.handleSubmit(...e)),["prevent"]))},[a,(0,o._)("div",i,[(0,o._)("div",u,[c,(0,o.wy)((0,o._)("input",{type:"title",class:"form-control form-control-lg","onUpdate:modelValue":r[0]||(r[0]=e=>b.title=e)},null,512),[[s.nr,b.title]])]),(0,o._)("div",d,[p,(0,o.wy)((0,o._)("textarea",{class:"form-control form-control-lg","onUpdate:modelValue":r[1]||(r[1]=e=>b.content=e)},null,512),[[s.nr,b.content]])]),(0,o._)("div",g,[_,(0,o.wy)((0,o._)("select",{class:"form-control form-control-lg","onUpdate:modelValue":r[2]||(r[2]=e=>b.selected_group=e)},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(w.user.groups_ids,(e=>((0,o.wg)(),(0,o.iD)("option",{key:e},(0,l.zw)(e),1)))),128))],512),[[s.bM,b.selected_group]])]),m])],32),b.error?((0,o.wg)(),(0,o.iD)("div",h,(0,l.zw)(b.error_msg),1)):(0,o.kq)("",!0)])}var b=t(7684),w=t(6922),v=t(6265),y=t.n(v),k={name:"NewPost",data(){return{title:"",content:"",group_id:0,selected_group:"",error:!1,error_msg:""}},computed:{user(){return w.Z.state.user},search_groups(){return this.current_groups}},methods:{async handleSubmit(){this.error=!1,""!=this.selected_group?(await y().post("http://parcial-lb-1342996555.us-east-1.elb.amazonaws.com:8002/posts",{title:this.title,content:this.content,user_id:w.Z.state.user.id,group_id:w.Z.state.groups.find((e=>e.group_name==this.selected_group)).id}).catch((e=>{console.log(e),this.error=!0,this.error_msg="Invalid Form! Please try again."})),0==this.error&&await b.Z.push("/")):(console.log("Error"),this.error=!0,this.error_msg="Please select a group.")}}},C=t(89);const Z=(0,C.Z)(k,[["render",f]]);var D=Z}}]);
//# sourceMappingURL=138.b4e5257f.js.map